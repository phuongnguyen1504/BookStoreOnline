<section class="fixed-top navigation" style="background: #fff">
  <header class="header-area bg-blue">
    <div class="header-large-device">
      <div class="header-top header-top-ptb-7 border-bottom-9">
        <div class="container">
          <div class="row align-items-center">
            <div class="col-xl-2 col-lg-2">
              <div class="logo">
                <a href="index.html"><img src="https://png.pngtree.com/png-clipart/20220605/original/pngtree-open-book-logo-eps-png-free-download-png-image_7965241.png" alt="logo" style="width: 70px;height: 70px"></a>
              </div>
            </div>
            <div class="col-xl-6 col-lg-6">
              <div class="categori-search-wrap categori-search-wrap-modify-2">
                <div class="categori-style-1">
                  <select class="nice-select nice-select-style-1">
                    <option>Tên sách</option>

                  </select>
                </div>
                <div class="search-wrap-3">
                  <form [formGroup]="formSearch" (ngSubmit)="onSearch()">
                    <input placeholder="Tìm kiếm sách..." type="text" formControlName="searchValue">
                    <button class="orange" type="submit"><i class="lnr lnr-magnifier"></i></button>
                  </form>
                </div>
              </div>
            </div>
            <div class="col-xl-3 col-lg-3">
              <div class="header-action header-action-flex">
                <div [hidden]="isLoggedIn"
                     class="same-style-2 same-style-2-white same-style-2-hover-black same-style-2-font-inc header-cart">
                  <a routerLink="/login"><i
                    class="icon-user"></i><span
                    class="cart-amount white">Đăng kí/Đăng nhập</span></a>
<!--                  <a data-toggle="modal" data-target="#login" (click)="HideCollapse()"><i-->
<!--                    class="icon-user"></i><span-->
<!--                    class="cart-amount white">Đăng kí/Đăng nhập</span></a>-->

                </div>
                <div [hidden]="!isLoggedIn"
                     class="same-style-2 same-style-2-white same-style-2-hover-black same-style-2-font-inc header-cart">
                    <a (click)="HideCollapse()" class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown"><i
                      class="fa-solid fa-circle-user"></i>{{username}}</a>
                    <ul class="dropdown-menu">
                      <li>
                        <a (click)="HideCollapse()" class="dropdown-item" data-bs-toggle="modal"
                           data-bs-target="#logOutModal">
                          <i class="fa-solid fa-right-to-bracket icon-header red-color"></i>
                          <span style="color:black">Đăng xuất</span>
                        </a>
                      </li>
                    </ul>

                </div>

              </div>
            </div>
            <div class="col-xl-1 col-lg-1">
              <div class="header-action header-action-flex" [hidden]="isLoggedIn">
                <div class="same-style-2 same-style-2-white same-style-2-hover-black same-style-2-font-inc header-cart">
                  <a class="cart-active" (click)="listCart()" routerLink="/login">
                    <i class="fa-solid fa-cart-shopping"></i>
<!--                    <span class="pro-count black"></span>-->
                    <span class="cart-amount white"></span>
                  </a>
                </div>
              </div>
              <div class="header-action header-action-flex" [hidden]="!isLoggedIn">
                <div class="same-style-2 same-style-2-white same-style-2-hover-black same-style-2-font-inc header-cart">
                  <a class="cart-active" (click)="listCart()" routerLink="/cart">
                    <i  class="fa-solid fa-cart-shopping"></i><span class="pro-count black">{{amountOfCart}}</span>
                    <span class="cart-amount white"></span>
                  </a>
                </div>
              </div>
            </div>

          </div>
        </div>
      </div>
      <div class="header-bottom">
        <div class="container">
          <div class="row align-items-center">
            <div class="col-12">
              <div
                class="main-menu main-menu-white main-menu-font-size-14 main-menu-padding-3 main-menu-lh-5 main-menu-hover-black">
                <nav>
                  <ul>
                    <li><a href="/">Trang chủ</a></li>
                    <li><a href="#">Danh mục sách<i class="icon-arrow-down"></i> </a>
                      <ul class="sub-menu-style">
                        <li *ngFor="let category of listCategory;index as i"><a [routerLink]="['/category',category.id]">{{category.name}}</a></li>
                      </ul>
                    </li>
                    <li><a href="blog.html">Chính sách khuyến mãi </a></li>
                    <li><a href="contact.html">Liên hệ </a></li>
                    <li><a href="shop.html">Quy định pháp lí</a></li>
                    <li  [hidden]="['ADMIN'].indexOf(role) === -1"><a routerLink="/manager">Quản lý</a></li>
                  </ul>
                </nav>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="header-small-device small-device-ptb-1">
      <div class="container">
        <div class="row align-items-center">
          <div class="col-5">
            <div class="mobile-logo">
              <a href="index.html">
                <img alt="" src="assets/images/logo/logo-3.png">
              </a>
            </div>
          </div>
          <div class="col-7">
            <div class="header-action header-action-flex">
              <div class="same-style-2 same-style-2-white same-style-2-hover-black same-style-2-font-inc">
                <a href=""><i class="icon-user"></i></a>
              </div>
              <div class="same-style-2 same-style-2-white same-style-2-hover-black same-style-2-font-inc header-cart">
                <a class="cart-active" href="#">
                  <i class="icon-basket-loaded"></i><span class="pro-count black">02</span>
                </a>
              </div>
              <div class="same-style-2 same-style-2-white same-style-2-hover-black main-menu-icon">
                <a class="mobile-header-button-active" href="#"><i class="icon-menu"></i> </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>
  <!-- Mobile menu start -->
  <div class="mobile-header-active mobile-header-wrapper-style">
    <div class="clickalbe-sidebar-wrap">
      <a class="sidebar-close"><i class="icon_close"></i></a>
      <div class="mobile-header-content-area">
        <div class="mobile-search mobile-header-padding-border-1">
          <!--          <form class="search-form" action="#">-->
          <!--            <input type="text" placeholder="Search here…">-->
          <!--            <button class="button-search"><i class="icon-magnifier"></i></button>-->
          <!--          </form>-->
        </div>
        <div class="mobile-menu-wrap mobile-header-padding-border-2">
          <!-- mobile menu start -->
          <nav>
            <ul class="mobile-menu">
              <li class="menu-item-has-children"><a href="index.html">Trang chủ</a></li>
              <li class="menu-item-has-children "><a href="#">Danh mục sách</a>
                <ul class="dropdown">
                  <li class="menu-item-has-children"><a href="#">Products Layout</a>
                    <ul class="dropdown">
                      <li *ngFor="let item of listCategory;index as i"><a [routerLink]="['/category',item.id]">{{item.name}}</a></li>
                    </ul>
                  </li>
                </ul>
              </li>
              <li class="menu-item-has-children"><a href="#">Trang</a>
                <ul class="dropdown">
                  <li><a href="about-us.html">Về chúng tôi</a></li>
                  <li><a href="cart.html">Giỏ hàng</a></li>
                  <li><a href="checkout.html">Thanh toán </a></li>
                  <li><a href="my-account.html">Tài khoản của tôi</a></li>
                  <li><a href="contact.html">Liên hệ</a></li>
                  <li><a href="order-tracking.html">Theo dõi đơn hàng</a></li>
                  <li [hidden]="isLoggedIn"><a routerLink="/login">Đăng nhập/Đăng kí</a></li>
<!--                  <li [hidden]="isLoggedIn"><a data-toggle="modal" data-target="#login" (click)="HideCollapse()">login / register </a></li>-->
                  <li [hidden]="!isLoggedIn"><a (click)="HideCollapse()" data-bs-toggle="modal"
                                                data-bs-target="#logOutModal">{{username}}</a></li>

                </ul>
              </li>
              <li><a href="contact.html">Liên hệ</a></li>
            </ul>
          </nav>
          <!-- mobile menu end -->
        </div>
        <div class="mobile-social-icon">
          <a class="facebook" href="#"><i class="icon-social-facebook"></i></a>
          <a class="twitter" href="#"><i class="icon-social-twitter"></i></a>
          <a class="pinterest" href="#"><i class="icon-social-pinterest"></i></a>
          <a class="instagram" href="#"><i class="icon-social-instagram"></i></a>
        </div>
      </div>
    </div>
  </div>

</section>
<!--<app-cartlist [item]="isLoggedIn"></app-cartlist>-->




<!--LOGOUT MODAL-->
<div class="modal fade" id="logOutModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title fs-5 text-danger" id="exampleModalLabel">Xác nhận đăng xuất</h4>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        Bạn có chắc chắn muốn đăng xuất ?
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Hủy</button>
        <button type="button" class="btn btn-success" (click)="logOut()" data-bs-dismiss="modal">Đồng ý</button>
      </div>
    </div>
  </div>
</div>
<div  *ngIf="isLoggedIn">
  <app-chatbot></app-chatbot>
</div>
